{% extends 'base.html' %}
{% block title %}Nouvelle ordonnance – RDV du {{ appointment_date }}{% endblock %}
{% block header %}Ordonnance pour {{ patient.full_name }} – RDV du {{ appointment_date }}{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto mt-4 p-8 bg-white shadow-lg rounded-xl border border-gray-100">
  <form method="post" class="space-y-6">
    {% csrf_token %}

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Patient</label>
      <input type="text" disabled value="{{ patient.full_name }} ({{ patient.age }} ans)"
             class="w-full rounded-lg border-gray-300 bg-gray-100 px-3 py-2">
    </div>

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Date du RDV</label>
      <input type="text" disabled value="{{ appointment_date }}"
             class="w-full rounded-lg border-gray-300 bg-gray-100 px-3 py-2">
    </div>

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Diagnostic / Motif</label>
      <textarea name="diagnostic" rows="3" class="w-full rounded-lg border-gray-300 shadow-sm p-3"></textarea>
    </div>

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Prescription *</label>
      <textarea name="prescription" required rows="5" class="w-full rounded-lg border-gray-300 shadow-sm p-3"></textarea>
    </div>

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Notes / Instructions</label>
      <textarea name="notes" rows="3" class="w-full rounded-lg border-gray-300 shadow-sm p-3"></textarea>
    </div>

    <div>
      <label class="block font-semibold text-gray-700 mb-1">Priorité</label>
      <select name="priority" class="w-full rounded-lg border-gray-300 shadow-sm px-3 py-2">
        <option value="Normal">Normal</option>
        <option value="Urgent">Urgent</option>
      </select>
    </div>

    <div class="flex justify-end space-x-3">
      <a href="{% url 'doctor_dashboard' %}" class="px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50">Annuler</a>
      <button type="submit" class="px-4 py-2 bg-emerald-600 text-white rounded-lg shadow-sm text-sm font-medium hover:bg-emerald-700">Créer l’ordonnance</button>
    </div>
  </form>
</div>
{% endblock %}